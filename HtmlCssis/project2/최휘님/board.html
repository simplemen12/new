
<!DOCTYPE html>
<html lang="en">
<head>
    <!-- 문서의 문자 인코딩을 UTF-8로 설정합니다. -->
    <meta charset="UTF-8">
    <!-- 반응형 웹 디자인을 위해 뷰포트 설정을 합니다. -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- 페이지 제목을 설정합니다. -->
    <title>board</title>
    <!-- 외부 CSS 파일을 연결합니다. -->
    <link rel="stylesheet" href="../안준영님/reset.css">
    <link rel="stylesheet" href="../최휘님/board.css">
    <!-- 부트스트랩 라이브러리를 CDN으로 연결합니다. -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <!-- 페이지에 대한 스타일을 설정합니다. -->
    <style>

    </style>
</head>
<body id="top">
    <!-- 페이지 내용을 감싸는 wrapper 클래스를 가진 div 요소입니다. -->
    <div class="wrapper">
        <!-- 상단 영역을 나타내는 headarea 클래스를 가진 div 요소입니다. -->
        <div class="headarea">
            <!-- 로고를 표시하는 div 요소입니다. -->
            <div class="logo">
                <a href="">
                </a>    
            </div>
            <!-- 메뉴를 표시하는 div 요소입니다. -->
            <div class="menu">
                <!-- 메뉴 항목들을 표시합니다. -->
                <a href="">Menu</a>
                <a href="">Store</a>
                <a href="">News</a>
                <a href="">Story</a>
            </div>
            <!-- 로그인 및 검색 기능을 포함한 영역을 나타내는 div 요소입니다. -->
            <div class="login">
                <!-- 로그인 및 회원가입 링크를 표시합니다. -->
                <a href="">로그인</a>
                <a href="">회원가입</a>
                <a href="">000</a>
                <!-- 검색 버튼을 포함한 div 요소입니다. -->
                <div class="allsearch">
                    <button type="button">
                        <!-- 검색 아이콘을 SVG 형식으로 표시합니다. -->
                        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                            <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <!-- 게시판 컨텐츠를 담는 컨테이너를 나타내는 div 요소입니다. -->
    <div class="container">
        <!-- 게시판 제목과 메뉴를 포함하는 영역을 나타내는 div 요소입니다. -->
        <div class="subtitle">
            <div class="inner">
                <!-- 게시판 제목을 표시합니다. -->
                <h1>Board</h1>
                <!-- 메뉴 목록을 표시합니다. -->
                <ul>
                    <li><a href="">Home</a></li>
                    <li>●</li>
                    <li><a href="../project/board.html">Board</a></li>
                </ul>
            </div>
        </div>
        <!-- 게시글 목록을 표시하는 영역을 나타내는 div 요소입니다. -->
        <div class="mainboard">
            <div class="inner">
                <!-- 게시글 검색 기능을 포함한 영역을 나타내는 div 요소입니다. -->
                <div class="search">
                    <!-- 게시글 개수를 표시하는 요소입니다. -->
                    <p class="boardcnt"></p>
                    <!-- 실제 검색을 수행하는 영역을 나타내는 div 요소입니다. -->
                    <div class="searchinner">
                        <!-- 검색어를 입력하는 input 요소입니다. -->
                        <input type="text" placeholder="검색어를 입력하세요." class="searchinput">
                        <!-- 검색을 실행하는 버튼입니다. -->
                        <button type="button" class="searchBtn">
                            <!-- 검색 아이콘을 SVG 형식으로 표시합니다. -->
                            <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
                                <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"/>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
            <!-- 게시글 목록을 표시하는 ul 요소입니다. -->
            <ul class="boardlist">
                <!-- 개별 게시글을 나타내는 li 요소입니다. -->
                <li class="mainlist" onclick="opencontent()" id="list0">
                    <a href="#" class="openbtn">
                        <!-- 게시글 번호를 표시하는 요소입니다. -->
                        <span class="listnum">
                            <!-- 게시글 번호 아이콘을 SVG 형식으로 표시합니다. -->
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-megaphone-fill" viewBox="0 0 16 16">
                                <path d="M13 2.5a1.5 1.5 0 0 1 3 0v11a1.5 1.5 0 0 1-3 0zm-1 .724c-2.067.95-4.539 1.481-7 1.656v6.237a25 25 0 0 1 1.088.085c2.053.204 4.038.668 5.912 1.56zm-8 7.841V4.934c-.68.027-1.399.043-2.008.053A2.02 2.02 0 0 0 0 7v2c0 1.106.896 1.996 1.994 2.009l.496.008a64 64 0 0 1 1.51.048m1.39 1.081q.428.032.85.078l.253 1.69a1 1 0 0 1-.983 1.187h-.548a1 1 0 0 1-.916-.599l-1.314-2.48a66 66 0 0 1 1.692.064q.491.026.966.06"/>
                            </svg>
                        </span>
                        <!-- 게시글 제목을 표시하는 요소입니다. -->
                        <span class="boardtitle">제목제목제목제목제목제목제목제목제목제목제목제목제목제제목제목제목제제목제목제목제제목제목제목제목제목제목</span>
                        <!-- 게시글 작성일을 표시하는 요소입니다. -->
                        <span class="day">2024. 3. 28.</span>
                        <!-- 게시글 작성자를 표시하는 요소입니다. -->
                        <span class="id">작성자</span>
                    </a>
                    <!-- 개별 게시글의 내용을 표시하는 요소입니다. -->
                    <li id="contentopen0" class="ctopen" style="display: none;">content</li>        
                </li>
            </ul>
            <!-- 게시글 추가 버튼 및 더보기 버튼을 포함하는 영역을 나타내는 div 요소입니다. -->
            <div class="addbtn">
                <!-- 글쓰기 페이지로 이동하는 링크입니다. -->
                <a href="../project/boardwrite.html" class="boardwrite">글쓰기</a>
                <!-- 게시글 더보기 버튼입니다. -->
                <button type="button" class="readmore">+</button>
            </div>
        </div>
    </div>
    <!-- 사이트의 하단에 위치하는 footer 요소입니다. -->
    <footer>
        <!-- footer 정보를 담는 div 요소입니다. -->
        <div class="fInfo">
            <!-- 정보 목록을 표시하는 ul 요소입니다. -->
            <ul class="info">
                <li>한국맥도날드(유)</li>
                <li>대표이사: 김기원</li>
                <li>사업자등록번호: 101-81-26409</li>
                <li>전화주문: 1600-5252</li>
                <!-- 저작권 정보를 표시하는 요소입니다. -->
                <p class="copy">COPYRIGHT &copy; 2019 ALL RIGHTS RESERVED BY McDonald's.</p>
            </ul>
        </div>
    </footer>

    <!-- 스크립트 영역입니다. -->
    <script>
        // 현재 날짜를 가져오는 객체입니다.
        let today = new Date();
        // 날짜를 지역 언어로 변환합니다.
        let day = today.toLocaleDateString();
        // 게시글 개수를 세는 변수입니다.
        let count = 0;

 /*
    DOMContentLoaded 이벤트는 HTML 문서가 로드되고 모든 DOM 요소가 준비된 후 발생하는 이벤트입니다.
     이벤트 핸들러 함수는 HTML 문서의 모든 요소가 완전히 로드되었을 때 실행됩니다.*/

        // 페이지 로드 시 실행되는 함수입니다.
        document.addEventListener('DOMContentLoaded', function() {
            // 게시글 목록을 표시하는 요소를 선택합니다.

 /*
        위 코드는 DOMContentLoaded 이벤트가 발생했을 때 실행되는 JavaScript 코드입니다. 
        이 코드는 다음과 같은 작업을 수행합니다.

boardlist 클래스를 가진 요소를 찾아서 boardlist 변수에 할당합니다. 
이 요소는 HTML 문서에서 게시글 목록을 표시하는 부분일 것으로 예상됩니다.

posts라는 빈 배열을 선언합니다. 이 배열은 로컬 스토리지에서 가져온 게시글 데이터를 저장할 용도로 사용됩니다.

localStorage.getItem('post2')를 사용하여 로컬 스토리지에서 
'post2'라는 키로 저장된 데이터를 가져옵니다. 이 데이터는 이전에 사용자가 작성한 게시글 데이터일 것으로 예상됩니다.

가져온 데이터가 null이 아닌 경우, 즉 이전에 저장된 게시글 데이터가 있는
 경우에는 JSON.parse() 함수를 사용하여 문자열 형태의 데이터를 JavaScript 객체로 변환하고, posts 배열에 저장합니다.
        


 JSON.parse() 함수는 JSON 형식의 문자열을 JavaScript 객체로 변환하는 함수입니다.

여기서 writedata는 로컬 스토리지에서 가져온 데이터인데, 이 데이터는 문자열 형태일 것입니다. 이 데이터를 JSON.parse() 
함수에 전달하면 해당 문자열이 JavaScript 객체로 변환됩니다.

변환된 객체는 posts 배열에 할당됩니다. 이렇게 함으로써 이전에 로컬 스토리지에 저장된 게시글 데이터를
 JavaScript 객체의 형태로 사용할 수 있게 됩니다. 따라서 posts 배열에는 이전에 작성된 게시글 데이터가 포함되어 있을 것입니다.
        */


            const boardlist = document.querySelector('.boardlist');
            // 게시글 데이터를 저장할 배열입니다.
            let posts = [];
            // 로컬 스토리지에서 게시글 데이터를 가져옵니다.
            const writedata = localStorage.getItem('post2');
            // 가져온 데이터가 null이 아닌 경우, 게시글 데이터를 배열에 저장합니다.
            if(writedata !== null){
                posts = JSON.parse(writedata);
            }

            // 게시글 데이터를 기반으로 게시글 목록을 생성합니다.


 /*
        이 코드는 posts 배열에 있는 게시글 데이터를 HTML로 동적으로 생성하여 게시판 목록을 화면에 표시하는 역할을 합니다.

posts.forEach() 메서드는 posts 배열의 각 요소에 대해 순회합니다.
count 변수는 게시글 번호를 카운트하는 역할을 합니다. 각 게시글에 대해 순회할 때마다 count가 1씩 증가합니다.
게시글 목록을 표시할 HTML 코드가 boardlist.innerHTML += ... 라인에 작성됩니다.
게시글 하나를 나타내는 <li> 요소가 생성되며, 해당 요소의 ID는 list${count} 형식으로 지정됩니다. 이 때 count 변수를 사용하여 게시글의 고유한 ID를 생성합니다.
게시글 제목(post.title2), 작성일(day), 작성자 이름(post.writername)이 각각의 <span> 요소로 구성되어 게시글 목록에 표시됩니다.
게시글의 내용은 각 게시글 아래에 숨겨진 상태로 생성됩니다. 이 내용은 클릭하면 펼쳐지도록 설계되어 있습니다. style="display: none;"으로 숨겨진 상태로 시작하며, 클릭할 때마다 해당 게시글의 내용이 나타납니다.
각 게시글 목록이 생성될 때마다 count 변수가 증가되므로, 게시글의 총 수를 나타내는 문구도 갱신됩니다. document.querySelector('.boardcnt').innerHTML을 통해 해당 문구가 업데이트됩니다.
이 코드를 통해 posts 배열에 있는 게시글 데이터를 HTML 형식으로 변환하여 동적으로 게시판 목록을 생성하고, 화면에 표시합니다.
        
        */
            posts.forEach(function(post) {
                count++;
                boardlist.innerHTML += `
                    <li class="mainlist" id="list${count}" onclick="opencontent(${count})">
                        <a href="#" class="openbtn">    
                            <span class="listnum">${count}</span>
                            <span class="boardtitle">${post.title2}</span>
                            <span class="day">${day}</span>
                            <span class="id">${post.writername}</span>
                        </a>
                        <li class="ctopen" id="contentopen ${count}" style="display: none;">${post.content2}</li>            
                    </li>
                `;
            });

            // 총 게시글 개수를 화면에 표시합니다.
            document.querySelector('.boardcnt').innerHTML = `총 ${count+1} 건의 게시글이 있습니다.`;
        });     

        // 개별 게시글을 열거나 닫는 함수입니다.
        function opencontent(count){
            let a = document.getElementById(`contentopen ${count}`);
            if(a.style.display == "none"){
                a.style.display="block";
            } else if(a.style.display == "block"){
                a.style.display="none";
            };
        };
    </script>
</body>
</html>
