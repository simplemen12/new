<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <button type="button" onclick="play(1)"><img></button>
    <button type="button" onclick="play(2)"><img></button>
    <button type="button" onclick="play(3)"><img></button>


    <h3 id="result">
        결과
    </h3>

    <script>

        let playerState = 0; // 숫자상태
        let playerStatechar = 0 ; //문자상태

        let comState = 0; // 숫자상태
        let comStatechar = 0 ; //문자상태


        let win = 0;
        let draw = 0;
        let lose = 0;
        let r1=''; //결과문자

        let result = 0;

    


        function play(player){
            console.log(player);

            if(player== 1){
                playerState = 0;
                playerStatechar = '가위';
            }else if(player == 2 ){
                playerState = 2;
                playerStatechar = '바위';


            }else{
                playerState=3;
                playerStatechar = '보';

            }
        }


        //com 상태

            setComState();

        // 결화 호출
        function setDistinct(){




        }


        //결과 출력 : result 

        function setDistinct(){
            if(playerState == comState){
                return 0 ;
            }else {
                if(playerState == 1){
                    comState == 2 ? result = -1 : result = 1;
                }else if(playerState == 2){
                    comState == 3 ? result = -1 : result = 1;
                }else if(playerState == 3){
                    comState == 1 ? result = -1 : result = 1;
                }
            }

        }


        //화면출력 함수
        function showResult(){
            if(result == -1){ //패

                lose++;
             show(result);


            }else if(result ==1){
                win++;
                show(result);

            }else{
                draw++;
                show(result);
            }
            document.getElementById('result').innerText = r1;
        }

        function show(){

            lose++;
                r1= `player${playerStatechar} /  com:${comStatechar} `
                //r1 += `player가 ${result ==1 ? '이겼습니다 \n : result ==0 비겼습니다.\n':  졌습니다 } \n`;
                r1 +=`현재 전적 \n 승:${win} 무:${draw} 패:${lose} \n`;
                r1 += `승률 : ${getWinRate().toFixed(2)}%`;

        }




        //승률  ( win / total playgames) * 100

        function getWinRate(){
            return (win != 0) ? (win / (win+draw+lose))* 100 : 0;
            


        }

        //컴퓨터의 랜덤 값 생성 상태 저장  0은 무승부 1은 승리 -1 패

        function setComState(){
            comState = Math.floor(Math.random()*3)+1;
            switch(comState){
                case 1: comStatechar='가위';break;
                case 2: comStatechar='바위';break;
                case 3: comStatechar='보';break;
            }
        
        }
    </script>
    
</body>
</html>